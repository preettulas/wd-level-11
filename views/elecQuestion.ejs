<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="./css/style.css" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>
        <%= title %>
    </title>
</head>

<body class="bg-gray-200">
    <div class="flex justify-center">
        <div>
            <b>
                <h1 class="text-3xl font-semibold hover:italic">Election Page</h1>
            </b>
        </div>
    </div>
    <div>
        <% if (election.end) { %>
            <b>
                <div class="bg-red-300 text-red-900 p-2 rounded-lg shadow">
                    <center>
                        Election Ended
                    </center>
                </div>
            </b>
            <% } else if (election.start) { %>
                <b>
                    <div class="bg-green-300 text-green-900 p-2 rounded-lg shadow">
                        <center>
                            Election is Live
                        </center>
                    </div>
                </b>
                <div>
                    <b> Voter can visit this link to vote :</b>
                    <a href="/externalpage/<%=publicurl%>/" class="py-1 hover:text-purple-blue text-blue-600"
                        target="_blank">https://voting-platform-x874.onrender.com/externalpage/<%=publicurl%></a>
                </div>
                <% } %>
    </div><br>
    <div>
        <div>
            <b>
                <a href="/election"
                    class="text-white bg-red-600 hover:bg-red-800 font-medium rounded px-5 py-2 justify-right">Go Back</a>
            </b>
        </div><br>
        <div>
            <a href="/election/<%=election.id %>/sampleElection"
                class="text-white bg-green-600 hover:bg-green-800 font-medium rounded px-5 py-2">Preview
                Election</a>
        </div><br>
        <div>
            <a href="" class="text-white bg-blue-600 hover:bg-blue-800 font-medium rounded px-5 py-2">Show Result
            </a>
        </div>
    </div>
    <br>
    <br>
    <div class="bg-gray-lighter min-h-screen flex flex-col">
        <div class="container max-w-sm mx-auto flex-1 flex flex-col justify  px-2">
            <div class="bg-white px-4 py-6 rounded shadow-md text-black w-full">
                <div>
                    <b>
                        <h2 class="text-xl text-teal-700 ">
                            <%= title %> Election
                        </h2>
                    </b><br>
                </div>

                <div class="flex justify-left">
                    <h2 class="text-xl font-semibold">Questions :<span class="bg-gray-100 ml-2 px-2">
                            <%= countOfQuestions %>
                        </span></h2><br>
                </div>
                <div class="flex justify-left">
                    <a href="/questions/<%= id %>"
                        class="py-1 hover:text-black-800 hover:underline text-black-600">Manage questions</a><br>
                </div>
                <div>
                    <br>
                    <h2 class="text-xl font-semibold">Voters :<span class="bg-gray-100 ml-2 px-2">
                            <%= countOfVoters %>
                        </span></h2>
                </div>
                <div>
                    <a href="/voters/<%=id %>" class="py-1 hover:text-black-800 hover:underline text-black-600">Manage
                        voters</a>
                </div><br>
                <br>
                <div class="flex gap-2 py-2 justify-center">
                    <div>
                        <a href="/election/<%=id%>/start"
                            class="text-white bg-green-600 hover:bg-green-800 font-medium rounded shadow hover:shadow-md px-5 py-2">Start
                            Election</a>
                    </div>
                    <div>
                        <a href=""
                            class="text-white bg-red-600 hover:bg-red-800 font-medium rounded shadow hover:shadow-md px-5 py-2">
                            End
                            Election</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </table>
    <p style=" position: absolute; bottom: 0; left: 0; width: 100%; text-align: center">
        <% if(messages && messages.error && messages.error.length> 0) { %>
            <% for(var i=0; i<messages.error.length; i++) { %>
                <p class="bg-red-200 my-3 list-none rounded px-4 py-2">
                    <%= messages.error[i] %>
                </p>
                <% } %>
                    <% } %>
    </p>
</body>

</html>
